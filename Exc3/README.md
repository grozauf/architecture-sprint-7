# Список требований, которым должны удовлетворить внешние интеграции

## Требования к безопасности

- Использовать нашу систему могут только авторизованные пользователи. Каждому пользователю даётся доступ к домофону от его подъезда и общий доступ к шлагбауму.
- Использовать только защищённые протоколы связи с шифрованием (HTTPS, mTLS)
- Передача персональных данных только по защищённым протоколам связи с шифрованием
- Не храним у себя перс. данные (биометрию, номера машин), т.к. их обработка выполняется на стороне поставщика услуг
- Ведём логирование, мониторинг и аудит действий пользователей 

## Протоколы аутентификации и авторизации

- Для авторизации и аутентификации пользователей будем использовать OAuth 2.0
- Для взаимодействия внутренних сервисов будем использовать mTLS, что позволит шифровать трафик между ними
- Для взаимодействия с внешней системой подойдёт JWT

## Взаимодействие между системами предприятия и внешней платформой

Для системы умного дома будет создан новый сервис `tenant-smarthome-app`, чтобы `tenant-core-app` не разрастался и сохранил свою основную функциональность. Пользователь взаимодействует с `tenant-core-app`, который обращается к `tenant-smarthome-app`. t`enant-smarthome-app` в свою очередь через REST API по защищённому протоколу HTTPS взаимодействует с внешними системами умного дома. Биометрия пользователя и другие внешние данные не хранятся у нас, а передаются в системы умного дома внешнего партнёра, который их получает и определяет возможно ли действие или нет, и выполняет действие.

Все действия в наших системах и внешние взаимодействия логируются и покрыты метриками.